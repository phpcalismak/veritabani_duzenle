-- Veritabanı: `testci`

-- Tablo için tablo yapısı `daireler`
CREATE TABLE IF NOT EXISTS `daireler` (
  `daire_id` int NOT NULL AUTO_INCREMENT,
  `blok_adi` varchar(10) DEFAULT NULL,
  `daire_no` varchar(10) DEFAULT NULL,
  PRIMARY KEY (`daire_id`)
);

-- Tablo için tablo yapısı `aidatlar`
CREATE TABLE IF NOT EXISTS `aidatlar` (
  `aidat_id` int NOT NULL AUTO_INCREMENT,
  `aciklama` varchar(255) DEFAULT NULL,
  `odeme_tarihi` date DEFAULT NULL,
  `tutar` decimal(10,2) DEFAULT NULL,
  `odendi_mi` tinyint(1) NOT NULL,
  `daire_id` int NOT NULL,
  PRIMARY KEY (`aidat_id`),
  FOREIGN KEY (`daire_id`) REFERENCES `daireler`(`daire_id`)
);

-- Tablo için tablo yapısı `gelirler`
CREATE TABLE IF NOT EXISTS `gelirler` (
  `gelir_id` int NOT NULL AUTO_INCREMENT,
  `aciklama` varchar(255) DEFAULT NULL,
  `tarih` date DEFAULT NULL,
  `tutar` decimal(10,2) DEFAULT NULL,
  PRIMARY KEY (`gelir_id`)
);

-- Tablo için tablo yapısı `gelir_kategorileri`
CREATE TABLE IF NOT EXISTS `gelir_kategorileri` (
  `kategori_id` int NOT NULL AUTO_INCREMENT,
  `kategori_adi` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`kategori_id`)
);

-- Tablo için tablo yapısı `giderler`
CREATE TABLE IF NOT EXISTS `giderler` (
  `gider_id` int NOT NULL AUTO_INCREMENT,
  `aciklama` varchar(255) DEFAULT NULL,
  `son_odeme_tarihi` date DEFAULT NULL,
  `toplam_odenecek` decimal(10,2) DEFAULT NULL,
  `odeme_durumu` tinyint(1) DEFAULT NULL,
  `kategori_id` int DEFAULT NULL,
  PRIMARY KEY (`gider_id`),
  FOREIGN KEY (`kategori_id`) REFERENCES `gider_kategorileri`(`kategori_id`)
);

-- Tablo için tablo yapısı `gider_kategorileri`
CREATE TABLE IF NOT EXISTS `gider_kategorileri` (
  `kategori_id` int NOT NULL AUTO_INCREMENT,
  `kategori_adi` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`kategori_id`)
);

-- Tablo için tablo yapısı `daire_sahipleri`
CREATE TABLE IF NOT EXISTS `daire_sahipleri` (
  `daire_sahibi_id` int NOT NULL AUTO_INCREMENT,
  `ad_soyad` varchar(255) DEFAULT NULL,
  `telefon` varchar(20) DEFAULT NULL,
  `eposta` varchar(100) DEFAULT NULL,
  `daire_id` int DEFAULT NULL,
  PRIMARY KEY (`daire_sahibi_id`),
  FOREIGN KEY (`daire_id`) REFERENCES `daireler`(`daire_id`)
);

-- Tablo için tablo yapısı `kiracilar`
CREATE TABLE IF NOT EXISTS `kiracilar` (
  `kiraci_id` int NOT NULL AUTO_INCREMENT,
  `ad_soyad` varchar(255) DEFAULT NULL,
  `telefon` varchar(20) DEFAULT NULL,
  `eposta` varchar(100) DEFAULT NULL,
  `daire_id` int DEFAULT NULL,
  PRIMARY KEY (`kiraci_id`),
  FOREIGN KEY (`daire_id`) REFERENCES `daireler`(`daire_id`)
);
-- Tablo için tablo yapısı `hesaplar`
CREATE TABLE IF NOT EXISTS `hesaplar` (
  `hesap_id` int NOT NULL AUTO_INCREMENT,
  `daire_id` int NOT NULL,
  `hesap_turu` varchar(255) DEFAULT NULL,
  `kullanici_id` int DEFAULT NULL,
  `email` varchar(30) NOT NULL,
  `kullanici_adi` varchar(15) NOT NULL,
  `sifre` varchar(15) NOT NULL,
  `aktivasyon_kodu` int DEFAULT NULL,
  `hesap_onay` int DEFAULT NULL,
  `created_at` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,
  `reset_token` varchar(255) DEFAULT NULL,
  PRIMARY KEY (`hesap_id`),
  FOREIGN KEY (`daire_id`) REFERENCES `daireler`(`daire_id`),
  FOREIGN KEY (`kullanici_id`) REFERENCES `profiller`(`profil_id`)
);
